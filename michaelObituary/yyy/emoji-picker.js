(function(){this.EmojiPicker=function(){function o(o){var e,i;null==o&&(o={}),$.emojiarea.iconSize=null!=(e=o.iconSize)?e:25,$.emojiarea.assetsPath=null!=(i=o.assetsPath)?i:"",this.generateEmojiIconSets(o),o.emojiable_selector||(o.emojiable_selector="[data-emojiable=true]"),this.options=o}return o.prototype.discover=function(){var o;if(!(o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream))return $(this.options.emojiable_selector).emojiarea($.extend({emojiPopup:this,norealTime:!0},this.options))},o.prototype.generateEmojiIconSets=function(o){var e,i,n,r,t,a,c,s,f,m;for(t={},s={},r=void 0,a=void 0,n=void 0,c=void 0,i=void 0,f=void 0,e=void 0,m=void 0,a=0;a<Config.EmojiCategories.length;){for(m=Config.EmojiCategorySpritesheetDimens[a][1],r=0;r<Config.EmojiCategories[a].length;)i=Config.Emoji[Config.EmojiCategories[a][r]],c=i[1][0],f=Math.floor(r/m),e=r%m,t[":"+c+":"]=[a,f,e,":"+c+":"],s[c]=i[0],r++;a++}return $.emojiarea.icons=t,$.emojiarea.reverseIcons=s},o.prototype.colonToUnicode=function(o){return o?(Config.rx_colons||Config.init_unified(),o.replace(Config.rx_colons,function(o){var e;return(e=Config.mapcolon[o])||""})):""},o.prototype.appendUnicodeAsImageToElement=function(o,e){var i,n,r,t,a;if(!e)return"";for(Config.rx_codes||Config.init_unified(),r=e.split(Config.rx_codes),i=0,n=r.length;i<n;i++)t=r[i],a="",Config.rx_codes.test(t)?(a=Config.reversemap[t])&&(a=":"+a+":",a=$.emojiarea.createIcon($.emojiarea.icons[a])):a=document.createTextNode(t),o.append(a);return e.replace(Config.rx_codes,function(o){var e;return a=Config.reversemap[o],a?(a=":"+a+":",e=$.emojiarea.createIcon($.emojiarea.icons[a])):""})},o.prototype.colonToImage=function(o){return o?(Config.rx_colons||Config.init_unified(),o.replace(Config.rx_colons,function(o){var e;return o?e=$.emojiarea.createIcon($.emojiarea.icons[o]):""})):""},o}()}).call(this);